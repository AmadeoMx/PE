(name 'SqueakNxt-EtoysCompiler-Richo.69' message '* Changed NxtPlayerTranslator to work with the new changes on PlayerTranslator to support TimerMorph in compiled mode.' id '0e5e661c-f20b-674c-ab36-f39188eff221' date '5 March 2013' time '6:57:24 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.68' message '* Changed the #playNote: sound rule in NxtPlayerTranslator>>soundRules to refer to PEUtilities instead of SqueakNxtPlayer.' id 'fba62cb6-ca81-9141-ba49-f51a2c42f5b3' date '17 January 2013' time '6:47:33 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.67' message '* Changed LegoNxtMorph>>#download: to use the new PESyntaxError class.' id '32c2c6b1-04d8-8b4b-98e1-6a3d5ffd3ede' date '26 December 2012' time '6:13:18 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.66' message '* Added a check in NxtCompiledMode>>#beep to avoid connecting the direct command protocol if we''re using linux.' id 'f799471e-6d98-4441-be5f-def296182adb' date '16 April 2012' time '12:56:01 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.65' message '* Fixed a bug that was returning a wrong rules dictionary.' id 'd8536c2b-10f7-2945-98fc-80d3d028f997' date '10 April 2012' time '1:32:33 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.64' message '* Removed #scriptingRules, refactored to the superclass' id 'e9511321-f5b1-9c4a-b8c0-8ef0ec365e82' date '10 April 2012' time '1:13:07 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.63' message '* Changed LegoNxtMorph>>#download: to also show the original source code in case of syntax error.' id '5ea5e3a7-bcf2-e046-b20b-34a9e4455098' date '30 March 2012' time '7:58:59 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.62' message '* Merged repeated methods from ArduinoPlayerTranslator and NxtPlayerTranslator in a common superclass called PlayerTranslator.' id '5dbe8dbd-d7df-fe40-9e6f-e93dd35784bb' date '30 March 2012' time '7:18:07 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.61' message 'empty log message' id '2ebcee67-9884-5443-ac47-418d6a594df7' date '29 March 2012' time '6:38:07 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.60' message '* Changed NxtPlayerTranslator to avoid using tasks as the multithreading mechanism (because I have little control over it). Instead I copied the Arduino way of implementing a #loop method that calls each script once whenever is its turn to run. This simplifies things a lot, and now I''m ready to merge the repeated behavior in a common superclass' id '29cb7f83-dbd6-0949-b7fe-3cc690b78cef' date '29 March 2012' time '6:11:47 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.59' message '* Changed LegoNxtMorph>>download: to use PEUtilities>>showSyntaxError:translatedCode:.* Changed NxtCompiledMode to find the device name on connection instead of lazily.* Removed useless "isConnected" inst var from NxtCompiledMode.* Fix two bugs with NxtPlayerTranslator when trying to access a slot for a different player.' id '03846e0b-d854-dd4c-9d1a-2fa2344cad54' date '28 March 2012' time '3:55:15 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.58' message '* Changed LegoNxtMorph>>#download: to send the correct device name when using bluetooth.* Added #deviceName to NxtCompiledMode.' id 'e49dcbda-fafa-474a-9fce-e0fe53a5b5a3' date '27 March 2012' time '6:25:31 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.57' message '* Changed the timer rules to generate the current tick in the current morph.* Changed NxtPlayerTranslator>>nxcIndexOf:in: to assert the index is not nil' id '54ba6b29-a066-d242-9be5-24d14672ab69' date '27 March 2012' time '1:00:15 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.56' message '* Modified SyntaxError message when downloading a script.* Fixed a DNU in sensor rule #getRawValue when the receiver is not a sensor.* Fixed a potential bug in #withCurrentMorph:do: (see comment on Arduino-EtoysCompiler-Richo.24)' id '3dcbecd9-2f8f-2247-9cff-c94062c10e86' date '27 March 2012' time '12:00:45 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.55' message '* Changed #getRawValue rule to work with ultrasonic sensor as well.* Fixed #isValidReveicer: to return false if the object is not plugged in the brick.' id 'be743b9d-620c-9e43-be7e-8000de222082' date '27 March 2012' time '10:28:06 am' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.54' message '* Added #beep to all protocols. In the case of the compiled mode it uses the direct mode to make the noise.* Removed NxtCompiledMode>>#doesNotUnderstand: hack, which shouldn''t be needed anymore.* Added translating rules for sensor "advanced" accesors' id 'c84ba228-be7f-1947-9390-f16ef25cb123' date '27 March 2012' time '10:00:34 am' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.53' message '* Implemented missing methods from NxtProtocol in NxtCompiledMode: #getSensorRawValueOnPort: and #getSensorScaledValueOnPort:* Fixed a bug in the scripting rules when stoping a script it generates an invalid code.* Changed "firstTick" variable type from #u32 (invalid for CTranslator) to #CUnsignedLong.' id 'f8a330fa-1f3f-bd4a-9f8f-47401523e429' date '27 March 2012' time '9:06:32 am' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.52' message '* Added an #updateScriptEditors to SqueakNxtPlayer in order to correctly update them when changing mode.' id '0e4987ed-f7d2-084b-9db8-a6433523079f' date '26 March 2012' time '6:05:06 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.51' message '* Fixed a bug that was preventing the use of not primitive methods (such as #isDivisibleBy:)' id '28a2f2dd-9c36-804c-94b8-6285ad293b9e' date '21 March 2012' time '9:03:30 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.50' message '* Added NxtCompiledMode.' id '315b24c1-7e8c-8241-97dc-316cc5e52aa6' date '23 December 2011' time '7:34:19 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.49' message '* Improved style a little.' id '79ac6cfc-931f-8349-8654-32515d0ce68a' date '24 October 2011' time '5:29:36 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.48' message '* Fixed the #startScript: rule.' id '1b8fc27f-e7f2-eb44-9625-40e613af2e5e' date '20 October 2011' time '4:10:38 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.47' message 'empty log message' id 'ceb7cbeb-c979-9c43-9eaa-3fc24b00d06f' date '11 August 2011' time '5:38:04 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.46' message 'empty log message' id '029c8a5e-ee26-c341-a529-02e28d2d5983' date '5 August 2011' time '6:05:29 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.45' message '* Renamed #detectBrick to #detectMainMorph' id '4a95047d-ec2c-a446-88f0-ae713cf19541' date '5 August 2011' time '5:23:03 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.44' message '* Moved all the extensions to base Etoys classes to PhysicalEtoys-CompilerSupport.' id '534e9813-fcba-ce44-a7ab-e33c47dcc0f6' date '5 August 2011' time '5:10:05 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.43' message '* Adapted to work with new compiler (SqueakNxt-Compiler.Richo57)' id 'bf873d53-bc02-d445-bd69-323080049f3d' date '29 July 2011' time '6:31:34 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.42' message '* Better formatted rules.* Appended hash to all special variables (such as #displayX, #soundVolume, #firstTick and so on) to prevent name clashes with user defined variables.' id 'a98c0de2-2fa6-c84d-bf8e-13a15c0f6940' date '1 February 2011' time '11:44:39 am' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.41' message 'empty log message' id '9e44a4e8-d49e-624f-a5d0-bc2fafb00b43' date '31 January 2011' time '6:34:01 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.40' message '* Added timer rules: #resetTimer and #getCurrentTick.* Changed #asNxcType: to return the argument if no type is available. This allows me to set "firstTick" to #u32.* Changed #compileSetUpMethod. Now it adds the "wait" after configuring the sensors and before initializing the variables, this way #currentTick starts in 0 and not in 500. Also, when initializing the variable it checks if the value is a RBProgramNode and if it is, it sends #formattedCode (instead of #printString). Kinda hacky but it lets me use message sends to initialize variables (not just only literals) and it''s very useful for "firstTick".' id 'e44ca0fa-550f-a44b-89f1-4d7abeac5cf9' date '31 January 2011' time '6:13:16 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.39' message '* Added support for the "buttons" category.' id 'cedfe212-efd1-f046-8130-3d921743d56a' date '27 January 2011' time '7:25:49 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.38' message '* Added NxtPlayerTranslator>>#variable:, useful to easily create RBVariableNodes (not that it was difficult but I had to write RBVariableNode a lot, and I was getting tired of it).* Also changed all RBVariableNode references to the new method.* Better formatted #soundRules.' id '5b54ccdc-c568-8d41-8801-27205737b0be' date '27 January 2011' time '7:08:30 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.37' message '* Fixed a few bugs when trying to download a script from a device instead of the brick.* Added support for all the commands in the "sound" category.' id 'c4e69921-82f1-cf44-965d-a02047509e97' date '27 January 2011' time '6:55:04 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.36' message '* When updating all the ScriptStatusControl I was missing the ones in closed viewers. Fixed now.' id 'fff66e31-885a-dd4f-8bc0-ab9f568e5697' date '27 January 2011' time '4:21:25 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.35' message '* Renamed #isCompiledMode to #isUsingCompiledMode. Also, now the responsible for storing its mode is the LegoNxtMorph, no longer the SqueakNxtPlayer.' id 'cc4f0f7a-91f7-014b-a9c1-37266c4e88e7' date '27 January 2011' time '3:49:17 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.34' message 'empty log message' id '761feed8-8dc9-6f4c-8b87-2834739fe34b' date '27 January 2011' time '12:51:14 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.33' message 'empty log message' id 'c56c5f3a-4430-f447-b2bc-18c9cb7a0373' date '27 January 2011' time '12:49:41 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.32' message '* Renamed "downloadAndRunButtonForm" to just "downloadButtonForm".* Also, changed its balloon text' id 'fdff4606-638e-a249-9783-a31f5739054e' date '27 January 2011' time '12:23:04 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.31' message '* Added #grouped as an etoys message. It does nothing so I just remove it from the parse tree.* The download button now changes its color when pressing. Not super fancy but nicer that before.' id '3499aeee-e130-5546-86d6-a0db25cd6fa2' date '27 January 2011' time '12:20:49 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.30' message '* Fixed a bug. In compiled mode the viewer was removing all "try me" buttons instead of just the ones in the #scripts category' id 'c1548057-78a1-1242-beaa-fc0dd92b2be1' date '26 January 2011' time '8:09:50 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.29' message 'empty log message' id '59dd1c38-3a9a-3f46-97bb-09b352b05aa0' date '26 January 2011' time '7:56:36 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.28' message '* Added yet another extension method to avoid showing the "try me" button in the viewer for scripts in compiled mode.' id '4e97eea0-3fa4-3543-a313-90e62eefbe04' date '26 January 2011' time '7:56:09 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.27' message '* Fixed a bug when collecting slots. It was asking its value to the brick''s player instead of the actual owner of the slot.' id '1a498ab4-7cce-d04d-8170-123baeb3a1f2' date '26 January 2011' time '6:56:13 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.26' message '* NxtPlayerTranslator>>#collectMotorsAndSensors is now much faster because of iterating over "World allMorphs" instead of "NxtPluggableDeviceMorph allSubInstances".* Compiling and downloading now honors the connection port name and the connection status.* Changing modes disconnects the brick.' id '746a021f-e6e7-1146-831d-4b9dfb507b88' date '26 January 2011' time '6:47:32 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.25' message '* Fixed a layout problem in script editors when changing mode.' id '238c41ce-f03b-cc40-8567-b89dbf1d2d4f' date '26 January 2011' time '5:59:06 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.24' message '* NxtPlayerTranslator>>#isValidReceiver: was marking argument variables as invalid. Fixed now.' id '34bb1dbe-94a7-3e4b-95cc-edf91bed0ae6' date '26 January 2011' time '5:30:08 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.23' message '* NxtPluggableDeviceMorph>>#detectBrick is faster if we iterate over "World allMorphs" instead of "LegoNxtMorph allInstances"' id '10091616-429b-394e-bf61-d9db9f1c0aa1' date '26 January 2011' time '2:08:20 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.22' message '* Added a lot of *ugly* hacks to change script editors behavior when working in compiled mode. Etoys is so poorly extensible that every time I need to make something like this I feel the urge to write Etoys again from scratch. Unfortunately, this excitement doesn''t last long...' id '82f42680-f804-7d41-bf7e-ad915734c482' date '26 January 2011' time '2:00:45 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.21' message '* Splitted #rules into several methods (it was getting *really* fat...).* Now every rule must specify if it wants to keep visiting the node and how.* The variables Dictionary now also holds the default value for each variable.* The setUp and main methods are now compiled after all the tasks. This way, we make sure all the variables have been founded and will be initialized correctly.' id '4e144209-6c06-7646-9a76-771fe40d5844' date '13 January 2011' time '7:01:34 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.20' message '* Starting to work on the new script editor for Nxt scripts.' id '1cdd7408-abc3-cb41-9f70-1ed0c1360806' date '12 January 2011' time '6:53:12 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.19' message '* Added a few checks in #acceptMessageNode: to ensure the message is valid.* Invalid statements will be ignored. Other errors will be signaled.' id 'e5d76fd0-1d99-ec4c-bc7d-e34efe49ff9c' date '12 January 2011' time '3:20:27 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.18' message 'empty log message' id '725cdcd8-4e8e-514f-98f9-bb77256a3620' date '12 January 2011' time '12:51:54 am' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.17' message '* Added a few comments.* Fixed a bug when sending #doScript:* Removed repeated code for #stopScript: and #pauseScript:' id '8b1f0e87-a928-aa4e-8159-4b6b05459cef' date '12 January 2011' time '12:44:08 am' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.16' message '* Added extension method to change the color of a PhraseTileMorph.' id '6b3b360a-6eb9-f745-93d5-b537b53c6cae' date '12 January 2011' time '12:22:45 am' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.15' message '* Fixed a bug on #morphFor:. It was assuming #allMorphs won''t contain nil.' id 'c776af12-5e46-3e4e-8a81-aa92fd65a4cb' date '11 January 2011' time '11:44:48 am' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.14' message '* Added a comment to NxtPlayerTranslator>>#translateMainScript:of: and a class comment to NxtPlayerTranslator.' id '7457d70e-04ac-324e-bf78-ba0b82d2b979' date '11 January 2011' time '11:16:39 am' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.13' message '* Removed NxtPlayerTranslatorViejo.* Added a few extension methods to LegoNxtMorph and NxtPluggableDeviceMorph that allows you to easily create a NxtPlayerTranslator.* Added some comments to NxtPlayerTranslator and a few methods that facilitate iterating over the variables and scriptSelectors dictionaries.' id 'cfe42e7d-3752-9542-a191-6a2bb8b62b6e' date '11 January 2011' time '9:23:28 am' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.12' message '* Redid NxtPlayerTranslator and added support for other than brick scripts. The old version was renamed to NxtPlayerTranslatorViejo. A lot of testing is needed...' id '7b7c04b6-5d04-8f40-8745-a2792836a610' date '10 January 2011' time '7:08:05 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.11' message '* Added support for scripts with parameters.* Now the script we select to be the main is compiled as a task and the main method simply starts it and return. This allow us to stop the program execution by sending #stopScript:.' id 'ae869345-d0a4-e341-958e-1f30a5a9bc03' date '6 January 2011' time '6:05:53 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.10' message 'empty log message' id 'd7183a8a-817b-b04d-aa63-c439066c1aa9' date '6 January 2011' time '2:03:24 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.9' message '* Changed NxtPlayerTranslator to avoid compiling the class twice. Now it stores the methods source code in a set and compiles them all at the end.' id 'db48af77-f3f0-0a4d-9cc4-a9b17471f45a' date '5 January 2011' time '11:32:22 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.8' message '* Added multithreading hack. It allows you to use #startScript:, #pauseScript:, #stopScript: and #doScript:. Also, when compiling the tasks I take into account the frequency and the ticking rate of the script.* Added variable support. Now, the #setUp method also sets the initial values of the variables.* Added all nxc primitive rule selectors as extension methods to SqueakNxtPlayer. This way we prevent the user from creating a script with an invalid name. This step must be executed after every change in the primitive rules. To do it automatically, I added NxtPlayerTranslator class>>#avoidNameClash.' id 'ed1f6882-8bf6-9d47-b60b-5496e435bf92' date '5 January 2011' time '6:46:19 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.7' message '* Reverted last change. The automaticBrake was not working well.' id '224064c3-f244-6841-bbdf-2a92edb8060a' date '5 January 2011' time '1:54:46 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.6' message '* Added #automaticBrake property. This value is not accesible during runtime, though.' id 'f86a5064-be4e-9b42-aae0-f00f5ee5191a' date '5 January 2011' time '1:43:37 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.5' message '* Added a few comments' id 'd54810c7-6efd-c843-b0f5-8e53b1a5fbb5' date '5 January 2011' time '1:28:57 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.4' message '* Recategorized a couple of methods.* Added a few comments.' id '4298a34e-83b5-3a46-9881-6db3e43cf25a' date '5 January 2011' time '11:12:01 am' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.3' message '* Changed NxtPlayerTranslator back to avoid using #newUniqueClassInstVars:classInstVars:' id 'e9ae9b5c-5e24-2e4c-9449-0f12e24cfa67' date '5 January 2011' time '12:18:06 am' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.2' message '* NxtPlayerTranslator is starting to translate its first scripts :).' id '1798c534-6833-9140-a43a-32680eec54e0' date '4 January 2011' time '6:17:15 pm' author 'Richo' ancestors ((name 'SqueakNxt-EtoysCompiler-Richo.1' message '* Starting to experiment with a translator from Etoys scripts to NxtPrograms.' id '8101a7c0-879d-1c4c-8643-6b1fa12988fd' date '4 January 2011' time '11:56:29 am' author 'Richo' ancestors () stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())) stepChildren ())